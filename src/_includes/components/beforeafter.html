<!-- ============================================ -->
<!--                     Quote                    -->
<!-- ============================================ -->

<style>
    /*-- -------------------------- -->
<---           Quote            -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
  #quote-2059 {
    padding: var(--sectionPadding);
    position: relative;
    z-index: 1;
  }
  #quote-2059 .cs-container {
    width: 100%;
    max-width: 80rem;
    margin: auto;
    display: flex;
    flex-direction: column;
    justify-content: center;
    /* 48px - 100px */
    gap: clamp(3rem, 10vw, 6.25rem);
    position: relative;
    z-index: 2;
  }
  #quote-2059 .cs-content {
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    justify-self: center;
  }
  #quote-2059 .cs-topper {
    text-align: center;
    color: var(--secondary);
  }
  #quote-2059 .cs-quote {
    /* 25px - 39px */
    font-size: clamp(1.5625rem, 2.8vw, 2.4375rem);
    font-weight: 700;
    line-height: 1.2em;
    text-align: center;
    /* 24px - 32px */
    margin: 0 0 clamp(1.5rem, 3vw, 2rem);
    color: var(--headerColor);
  }
  #quote-2059 .cs-name {
    /* 16px - 25px */
    font-size: clamp(1rem, 3vw, 1.5625rem);
    font-weight: 700;
    line-height: 1.2em;
    text-align: center;
    color: var(--primary);
    display: block;
  }
  #quote-2059 .cs-job {
    /* 14px - 16px */
    font-size: clamp(0.875rem, 1.5vw, 1rem);
    line-height: 1.5em;
    text-align: center;
    color: var(--bodyTextColor);
    display: block;
  }
  #quote-2059 .cs-picture-group {
    width: 100%;
    /* the exact height/widths are calculated in the JS. set maximums here */
    max-width: 300px;
    /* 180px - 480px */

    min-height: 400px;
    margin: auto;
    overflow: hidden;
    border-radius: 0.375rem;
    position: relative;
  }
  #quote-2059 .cs-picture {
    width: 100%;
    height: 100%;
    overflow: hidden;
    position: absolute;
    top: 0;
    left: 0;
  }
  #quote-2059 .cs-picture img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
  }
  #quote-2059 .cs-picture-before {
    width: 50%;
    z-index: 2;
  }
  #quote-2059 .cs-slider-wrapper {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    z-index: 10;
    transform: translateX(-50%);
  }
  #quote-2059 .cs-tags {
    display: flex;
    justify-content: center;
    gap: 0.75rem;
    position: absolute;
    /* 6px - 16px */
    top: clamp(0.375rem, 1.5vw, 1rem);
    left: 50%;
    transform: translateX(-56%);
  }
  #quote-2059 .cs-tag {
    /* 6px - 16px */
    font-size: clamp(0.375rem, 1.5vw, 1rem);
    font-weight: 700;
    line-height: 1.2em;
    color: var(--Main-White, #000);
  }
  #quote-2059 .cs-line {
    width: 1px;
    height: 100%;
    background: #fff;
  }
  #quote-2059 .cs-arrows {
    display: flex;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  #quote-2059 .cs-arrow {
    /* 16px - 40px */
    width: clamp(1rem, 4vw, 2.5rem);
    height: auto;
  }
  #quote-2059 .cs-background {
    width: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
    /* 180px - 330px */
    bottom: clamp(11.25rem, 25vw, 20.625rem);
    z-index: 1;
  }
  #quote-2059 .cs-background:before {
    /* actual background-color */
    content: '';
    width: 100%;
    height: 100%;
    background: var(--primary);
    opacity: 0.1;
    position: absolute;
    display: block;
    top: 0;
    left: 0;
  }
  #quote-2059 .cs-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
  }
}
                                
</style>

<section id="quote-2059">
    <div class="cs-container">

        <!-- make sure the before/after images are the same dimensions and that the object of focus is centered. you may need to adjust the images a bit to get it just right. -->
        <div class="cs-picture-group">
            <picture class="cs-picture cs-picture-before">
                <source media="(max-width: 600px)" srcset="/assets/images/before1.jpg">
                <source media="(min-width: 601px)" srcset="/assets/images/before1.jpg">
                <img loading="lazy" decoding="async" src="/assets/images/before1.jpg" alt="after" width="630" height="877">
            </picture>
            <picture class="cs-picture cs-picture-after">
                <source media="(max-width: 600px)" srcset="/assets/images/after1.jpg">
                <source media="(min-width: 601px)" srcset="/assets/images/after1.jpg">
                <img loading="lazy" decoding="async" src="/assets/images/after1.jpg" alt="before" width="630" height="877">
            </picture>
            <div class="cs-slider-wrapper">
                <div class="cs-tags">
                    <span class="cs-tag">BEFORE</span>
                    <span class="cs-tag">AFTER</span>
                </div>
                <div class="cs-line"></div>
                <div class="cs-arrows">
                    <img class="cs-arrow" loading="lazy" decoding="async" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/Icons/dental-before-arrow.svg" alt="before" width="16" height="16">
                    <img class="cs-arrow" loading="lazy" decoding="async" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/Icons/dental-after-arrow.svg" alt="after" width="16" height="16">
                </div>
            </div>
        </div>



        
    </div>

</section>
                                

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const container = document.querySelector('#quote-2059 .cs-picture-group');
        const beforeImage = container.querySelector('.cs-picture-after img');
        const afterImage = container.querySelector('.cs-picture-before img');
        const afterContainer = container.querySelector('.cs-picture-before');
        const slider = container.querySelector('.cs-slider-wrapper');

        let isResizing = false;

        const getAspectRatio = (img) => img.naturalWidth / img.naturalHeight;

        const resize = (e) => {
            if (!isResizing) return;
            const containerRect = container.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - containerRect.left;
            const percent = Math.max(0, Math.min(100, x / containerRect.width * 100));
            slider.style.left = `${percent}%`;
            afterContainer.style.width = `${percent}%`;
        };

        const setDimensions = () => {
            const aspectRatio = getAspectRatio(beforeImage);
            const containerWidth = container.offsetWidth;
            const containerStyle = window.getComputedStyle(container);
            const maxHeight = parseInt(containerStyle.maxHeight);
            const containerHeight = containerWidth / aspectRatio;

            const finalHeight = Math.min(containerHeight, maxHeight);
            container.style.height = `${finalHeight}px`;

            const imageAspectRatio = aspectRatio;
            const containerAspectRatio = containerWidth / finalHeight;
            let imageWidth, imageHeight;

            if (imageAspectRatio > containerAspectRatio) {
                imageHeight = finalHeight;
                imageWidth = imageHeight * imageAspectRatio;
            } else {
                imageWidth = containerWidth;
                imageHeight = imageWidth / imageAspectRatio;
            }

            const offsetX = (containerWidth - imageWidth) / 2;
            const offsetY = (finalHeight - imageHeight) / 2;

            [beforeImage, afterImage].forEach(img => {
                img.style.width = `${imageWidth}px`;
                img.style.height = `${imageHeight}px`;
                img.style.left = `${offsetX}px`;
                img.style.top = `${offsetY}px`;
            });

            afterContainer.style.width = '50%';
        };

        Promise.all(Array.from(container.querySelectorAll('img')).map(img => {
            return new Promise((resolve) => {
                if (img.complete) resolve();
                else img.onload = resolve;
            });
        })).then(setDimensions);

        window.addEventListener('resize', setDimensions);

        container.addEventListener('mousedown', () => isResizing = true);
        container.addEventListener('touchstart', () => isResizing = true);
        window.addEventListener('mousemove', resize);
        window.addEventListener('touchmove', resize);
        window.addEventListener('mouseup', () => isResizing = false);
        window.addEventListener('touchend', () => isResizing = false);

        container.addEventListener('mousemove', (e) => {
            if (!isResizing) {
                const containerRect = container.getBoundingClientRect();
                const x = e.clientX - containerRect.left;
                const percent = Math.max(0, Math.min(100, x / containerRect.width * 100));
                slider.style.left = `${percent}%`;
                afterContainer.style.width = `${percent}%`;
            }
        });

        container.addEventListener('mouseleave', () => {
            if (!isResizing) {
                slider.style.left = '50%';
                afterContainer.style.width = '50%';
            }
        });
    });
                                </script>